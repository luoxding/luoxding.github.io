<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>åˆ©ç”¨ Hugo å’Œ Github Pages åˆ›å»ºé™æ€åšå®¢å¹¶å®ç°è‡ªåŠ¨éƒ¨ç½² | Laoluo's Blog</title>
<meta name=keywords content="Hugo,Github Pages,Github Actions,CI/CD"><meta name=description content="æœ¬æ–‡ä¸»è¦ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨ Hugo å’Œ Github Pages åˆ›å»ºé™æ€åšå®¢ï¼Œå¹¶åˆ©ç”¨ Github Actions å®ç°åšå®¢çš„è‡ªåŠ¨éƒ¨ç½²ã€‚"><meta name=author content="James"><link rel=canonical href=http://localhost:1313/hugo-github-pages-blog/><link crossorigin=anonymous href=/assets/css/stylesheet.d2540e28ae03a9ed42429ed74228412a18d4ea29c639e31e4f0b1512e252624f.css integrity="sha256-0lQOKK4Dqe1CQp7XQihBKhjU6inGOeMeTwsVEuJSYk8=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=http://localhost:1313/icons/linux.png><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/hugo-github-pages-blog/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.7.0/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fontsource/cascadia-code@4.2.1/index.min.css><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><meta property="og:title" content="åˆ©ç”¨ Hugo å’Œ Github Pages åˆ›å»ºé™æ€åšå®¢å¹¶å®ç°è‡ªåŠ¨éƒ¨ç½²"><meta property="og:description" content="æœ¬æ–‡ä¸»è¦ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨ Hugo å’Œ Github Pages åˆ›å»ºé™æ€åšå®¢ï¼Œå¹¶åˆ©ç”¨ Github Actions å®ç°åšå®¢çš„è‡ªåŠ¨éƒ¨ç½²ã€‚"><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/hugo-github-pages-blog/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-08-19T15:04:55+08:00"><meta property="article:modified_time" content="2021-08-19T15:04:55+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="åˆ©ç”¨ Hugo å’Œ Github Pages åˆ›å»ºé™æ€åšå®¢å¹¶å®ç°è‡ªåŠ¨éƒ¨ç½²"><meta name=twitter:description content="æœ¬æ–‡ä¸»è¦ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨ Hugo å’Œ Github Pages åˆ›å»ºé™æ€åšå®¢ï¼Œå¹¶åˆ©ç”¨ Github Actions å®ç°åšå®¢çš„è‡ªåŠ¨éƒ¨ç½²ã€‚"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"åˆ©ç”¨ Hugo å’Œ Github Pages åˆ›å»ºé™æ€åšå®¢å¹¶å®ç°è‡ªåŠ¨éƒ¨ç½²","item":"http://localhost:1313/hugo-github-pages-blog/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"åˆ©ç”¨ Hugo å’Œ Github Pages åˆ›å»ºé™æ€åšå®¢å¹¶å®ç°è‡ªåŠ¨éƒ¨ç½²","name":"åˆ©ç”¨ Hugo å’Œ Github Pages åˆ›å»ºé™æ€åšå®¢å¹¶å®ç°è‡ªåŠ¨éƒ¨ç½²","description":"æœ¬æ–‡ä¸»è¦ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨ Hugo å’Œ Github Pages åˆ›å»ºé™æ€åšå®¢ï¼Œå¹¶åˆ©ç”¨ Github Actions å®ç°åšå®¢çš„è‡ªåŠ¨éƒ¨ç½²ã€‚\n","keywords":["Hugo","Github Pages","Github Actions","CI/CD"],"articleBody":"æœ¬æ–‡ä¸»è¦ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨ Hugo å’Œ Github Pages åˆ›å»ºé™æ€åšå®¢ï¼Œå¹¶åˆ©ç”¨ Github Actions å®ç°åšå®¢çš„è‡ªåŠ¨éƒ¨ç½²ã€‚\nèƒŒæ™¯ä»‹ç» Hugo Hugo æ˜¯ä¸€ä¸ªç”¨ Go ç¼–å†™çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼ŒHugo ä¸€èˆ¬åªéœ€å‡ ç§’é’Ÿå°±èƒ½ç”Ÿæˆä¸€ä¸ªç½‘ç«™ï¼ˆæ¯é¡µå°‘äº 1 æ¯«ç§’ï¼‰ï¼Œè¢«ç§°ä¸ºâ€œä¸–ç•Œä¸Šæœ€å¿«çš„ç½‘ç«™æ„å»ºæ¡†æ¶â€ã€‚è¿™ä¹Ÿä½¿ Hugo å¤§å—æ¬¢è¿ï¼Œæˆä¸ºæœ€çƒ­é—¨çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ä¹‹ä¸€ï¼Œè¢«å¹¿æ³›é‡‡ç”¨ã€‚\né™æ€åšå®¢æœ€å¸¸ç”¨çš„ä¸¤ä¸ªæ¡†æ¶å°±æ˜¯ Hugo å’Œ Hexoã€‚ç”±äº Hexo æ˜¯ç”± Node.js ç¼–å†™ï¼Œåœ¨æ–‡ç« æ•°é‡è¾ƒå¤§ä¹‹åå°±éœ€è¦æ¯”è¾ƒé•¿çš„ç¼–è¯‘æ—¶é—´ï¼Œå› æ­¤ç”±äºæ€§èƒ½è€ƒè™‘æˆ‘ä»¬é‡‡ç”¨ Hugo ä½œä¸ºæˆ‘ä»¬åšå®¢çš„æ¡†æ¶ã€‚\nGithub Pages GitHub Pages æ˜¯ GitHub æä¾›çš„ä¸€ä¸ªå…è´¹ç½‘é¡µå¯„å­˜æœåŠ¡ï¼Œå¯ä»¥ç”¨äºå­˜æ”¾é™æ€ç½‘é¡µï¼ŒåŒ…æ‹¬åšå®¢ã€é¡¹ç›®æ–‡æ¡£ç”šè‡³æ•´æœ¬ä¹¦ã€‚åˆ©ç”¨ Github Pages éƒ¨ç½²é™æ€åšå®¢ï¼Œå°±å¯ä»¥å…å»éƒ¨ç½²æœåŠ¡å™¨çš„è´¹ç”¨ï¼Œå‡å°‘æˆæœ¬ã€‚ä¸è¿‡ï¼Œé™æ€åšå®¢ç”±äºæ²¡æœ‰æ•°æ®åº“ï¼Œå› æ­¤åœ¨åå°ç®¡ç†æ–¹é¢å°±ä¸å¦‚åŠ¨æ€åšå®¢ï¼ˆå¦‚ WordPress ç­‰ï¼‰æ–¹ä¾¿ã€‚\nGithub Actions Github Actions æä¾›äº†å…è´¹çš„ CI/CD åŠŸèƒ½ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å®Œæˆè½¯ä»¶å¼€å‘å‘¨æœŸå†…çš„ä»»åŠ¡ã€‚ GitHub Actions æ˜¯äº‹ä»¶é©±åŠ¨çš„ï¼Œæ„å‘³ç€å¯ä»¥åœ¨æŒ‡å®šäº‹ä»¶å‘ç”Ÿåè¿è¡Œä¸€ç³»åˆ—å‘½ä»¤ã€‚ ä¾‹å¦‚ï¼Œæ¯æ¬¡æœ‰äººä¸ºä»“åº“åˆ›å»ºæ‹‰å–è¯·æ±‚æ—¶ï¼Œéƒ½å¯ä»¥è‡ªåŠ¨è¿è¡Œå‘½ä»¤æ¥æ‰§è¡Œè½¯ä»¶æµ‹è¯•è„šæœ¬ã€‚\nåˆ©ç”¨ Github Actionsï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°åšå®¢çš„è‡ªåŠ¨éƒ¨ç½²ã€‚æ¯å½“æˆ‘ä»¬å¯¹ä»“åº“å®Œæˆ push æ“ä½œæ—¶ï¼ŒGithub å°±èƒ½è‡ªåŠ¨è¿›è¡Œç¼–è¯‘å¹¶å®Œæˆé™æ€æ–‡ä»¶çš„éƒ¨ç½²ã€‚\nåšå®¢å»ºç«‹ æˆ‘ä»¬é¦–å…ˆä¸‹è½½ Hugoï¼Œæ¨èä¸‹è½½ extended ç‰ˆæœ¬ã€‚è§£å‹å¹¶è®¾ç½®å¥½ç¯å¢ƒå˜é‡åï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥\nhugo new site Blog è¿™æ ·å°±å»ºç«‹äº†ä¸€ä¸ªæ–°çš„åšå®¢ã€‚\næˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ç¯‡æ–°çš„æ–‡ç« ã€‚\nhugo new posts/first-post/index.md è¿™æ ·ï¼Œå°±ä¼šåœ¨ Blog/content/posts/first-post/ä¸‹ç”Ÿæˆä¸€ä¸ªåä¸º index.mdçš„æ–‡ä»¶ã€‚\nç¼–å†™å®Œåšå®¢ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡\nHugo server -D æ¥å¯¹ç½‘ç«™è¿›è¡Œå®æ—¶é¢„è§ˆï¼Œä»¥åŠé€šè¿‡\nHugo æ¥å°†ç½‘ç«™è¿›è¡Œç¼–è¯‘ã€‚\né€‰æ‹©ä¸»é¢˜ æˆ‘æ¨èçš„ä¸»é¢˜æ˜¯ PaperMod ä¸»é¢˜ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ­¤å‘½ä»¤æ¥å®‰è£…è¯¥ä¸»é¢˜\ngit submodule add https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod --depth=1 è€Œå½“æˆ‘ä»¬é‡æ–° clone æˆ‘ä»¬çš„ä»“åº“æ—¶ï¼Œå¦‚æœä¸»é¢˜æ²¡æœ‰è‡ªåŠ¨ä¸‹è½½ï¼Œéœ€è¦è¿è¡Œä»¥ä¸‹å‘½ä»¤\ngit submodule update --init --recursive # needed when you reclone your repo (submodules may not get cloned automatically) å…·ä½“çš„é…ç½®å¯ä»¥å‚ç…§ä»“åº“çš„ Wikiï¼Œè¿™é‡Œç®€å•ä»‹ç»ä»¥ä¸‹å¦‚ä½•æ·»åŠ å½’æ¡£å’Œæœç´¢é¡µé¢ã€‚\nåœ¨ Blog/contend/ ä¸‹åˆ›å»º archives.md å’Œ search.mdï¼Œå†…å®¹åˆ†åˆ«ä¸ºï¼š\narchives.md\n--- title: \"Archive\" layout: \"archives\" url: \"/archives\" summary: \"archives\" --- search.md\n--- title: \"Search\" layout: \"search\" summary: \"search\" --- ç„¶åä¿®æ”¹ config.yml é…ç½®æ–‡ä»¶ï¼Œå°† menu éƒ¨åˆ†æ”¹ä¸º\nmenu: main: - name: Archives url: archives weight: 10 - name: Categories url: categories/ weight: 20 - name: Tags url: tags/ weight: 30 - name: Search url: search/ weight: 40 è¿™æ ·åšå®¢å°±æœ‰äº†å½’æ¡£å’Œæœç´¢é¡µé¢ã€‚\nå»ºç«‹è¿œç¨‹ä»“åº“ æˆ‘ä»¬åœ¨ Github ä¸Šå»ºç«‹åä¸º username.github.io çš„ä»“åº“ï¼Œç„¶åå°†æœ¬åœ°çš„åšå®¢ä¸è¿œç¨‹ä»“åº“çš„ source åˆ†æ”¯å¯¹åº”ï¼Œæ·»åŠ  .gitignore æ–‡ä»¶åå°±å¯ä»¥å°†æ–‡ä»¶éƒ½æ¨é€åˆ°è¯¥åˆ†æ”¯äº†ã€‚è€Œ main åˆ†æ”¯ä½œä¸ºæˆ‘ä»¬ Pages å±•ç¤ºçš„åˆ†æ”¯ï¼Œæš‚æ—¶ç•™ç©ºï¼Œå®ƒå°†åœ¨åé¢ç”± Github Actions è‡ªåŠ¨ç”Ÿæˆå¹¶éƒ¨ç½²ã€‚\nä½¿ç”¨è„šæœ¬ç®€åŒ–æ“ä½œ æˆ‘ä»¬å¯ä»¥é€šè¿‡ è„šæœ¬æ¥ç®€åŒ–åšå®¢çš„æ“ä½œã€‚\né¦–å…ˆæ˜¯éƒ¨ç½²çš„è„šæœ¬ deploy.sh\n#!/bin/ # æ·»åŠ æ‰€æœ‰ä¿®æ”¹ git add . # è®¾ç½®æäº¤è¯´æ˜ï¼Œæ ¼å¼ä¸º Site updated: 2006-01-02 15:04:05 time=$(date \"+%Y-%m-%d %H:%M:%S\") commit=\"Site updated:\"$time echo $commit # æäº¤ git commit -m \"$commit\" # æ¨é€åˆ°sourceåˆ†æ”¯ä¸Š git push origin source ç„¶åä¿®æ”¹ .zshrc æ–‡ä»¶ï¼Œæ·»åŠ å‡ ä¸ªç®€å†™\n# Hugo export BLOG_HOME=\"$HOME/Blog\" alias hs=\"cd $BLOG_HOME \u0026\u0026 hugo server -D\" alias hd=\"cd $BLOG_HOME \u0026\u0026 sh deploy.sh\" alias hb=\"cd $BLOG_HOME \u0026\u0026 rm -rf public/* \u0026\u0026 hugo\" hn() { cd $BLOG_HOME \u0026\u0026 hugo new posts/$1/index.md } è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ hs å®ç°é¢„è§ˆï¼Œé€šè¿‡ hb å®ç°åšå®¢ç¼–è¯‘ï¼Œé€šè¿‡ hd å®ç°åšå®¢éƒ¨ç½²ï¼Œé€šè¿‡ hn new-post åˆ›å»ºæ–°çš„åšæ–‡äº†ã€‚\nGithub Actions è‡ªåŠ¨éƒ¨ç½² é¦–å…ˆï¼Œæˆ‘ä»¬è¦å…ˆåœ¨ Github ä¸Šç”³è¯·ä¸€ä¸ª personal access tokenã€‚é€‰æ‹© Token çš„ä½œç”¨åŸŸæ—¶å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å…¨é€‰ã€‚å®Œæˆå Github ä¼šæä¾›ä¸€ä¸ª Tokenï¼Œæ³¨æ„è¯¥ Token åªä¼šå‡ºç°ä¸€æ¬¡ï¼Œæˆ‘ä»¬éœ€è¦ä¿å­˜å¥½ï¼Œå¦‚æœå¿˜è®°å°±åªèƒ½é‡æ–°ç”³è¯·äº†ã€‚\næ’ä¸€å¥é¢˜å¤–è¯ï¼Œå®é™…ä¸Šï¼Œç”±äº Github ç°åœ¨å·²ç»ä¸å†æ”¯æŒå¯†ç éªŒè¯ï¼Œå½“æˆ‘ä»¬è¿›è¡Œ push æ“ä½œæ—¶åŒæ ·ä¹Ÿéœ€è¦ Tokenã€‚ä¸ºäº†ç®€ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»“åº“çš„è¿œç¨‹åœ°å€æ¢æˆ https://@github.com/user/repo.gitï¼Œè¿™æ ·åœ¨ push æ—¶å°±ä¸éœ€è¦è¦æ±‚éªŒè¯äº†ã€‚\nç„¶ååœ¨è¿œç¨‹ä»“åº“çš„ Settings/Secrets ä¸­æ·»åŠ ä½ çš„ Personal access tokenã€‚\næœ€ååœ¨æœ¬åœ°ä»“åº“ä¸­æ–°å»º Blog/.github/workflows/gh-pages.yml æ–‡ä»¶\nname: github pages on: push: branches: - source # Set a branch to deploy jobs: deploy: runs-on: ubuntu-20.04 steps: - uses: actions/checkout@v2 with: submodules: recursive # Fetch Hugo themes (true OR recursive) fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: \"latest\" extended: true - name: Build run: hugo --minify - name: Deploy uses: peaceiris/actions-gh-pages@v3 with: github_token: ${{ secrets.ACTIONS_TOKEN }} publish_dir: ./public publish_branch: main cname: your_domain æ³¨æ„éœ€è¦å°† github_token çš„åç§°æ”¹ä¸ºä½ ä»“åº“ä¸­ token çš„åå­—ï¼Œå¹¶å°† cname æ¢æˆä½ è‡ªå·±çš„åŸŸåï¼Œå¦‚ä¸éœ€è¦æ›´æ¢ä¹Ÿå¯ä»¥åˆ é™¤ã€‚æ›´æ¢åä¹Ÿéœ€è¦åˆ°åŸŸåçš„ DNS ç®¡ç†å¤„æ·»åŠ  CNAME åˆ° username.github.ioã€‚\nå¹¶ä¸”ï¼ŒGithub è¿˜ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬ç”³è¯· SSL è¯ä¹¦ï¼Œæˆ‘ä»¬å¯ä»¥åˆ°ä»“åº“çš„ Github Pages è®¾ç½®é¡µé¢æ‰“å¼€ HTTPS è®¿é—®ã€‚\nè¿™æ ·ï¼Œæ¯å½“æˆ‘ä»¬å°†æºç æ¨é€åˆ° source åˆ†æ”¯åï¼ŒGithub å°±ä¼šè‡ªåŠ¨å°±ç¼–è¯‘åçš„é™æ€æ–‡ä»¶éƒ¨ç½²åˆ° main åˆ†æ”¯å¹¶å‘å¸ƒåˆ° Github Pages ä¸­äº†ã€‚\nä»è¿œç¨‹ä»“åº“ä¸‹è½½ å½“æˆ‘ä»¬æ›´æ¢äº†ä¸€å°æ–°çš„ç”µè„‘æˆ–æ˜¯æœ¬åœ°ä»“åº“è¢«æŸåæ—¶ï¼Œå¯ä»¥ä»è¿œç¨‹ä»“åº“ä¸­ä¸‹è½½åšå®¢ã€‚ä¸ºäº†ä¸‹è½½åšå®¢çš„ä¸»é¢˜ï¼Œéœ€è¦æ·»åŠ  --recurse-submodules å‚æ•°ã€‚\ngit clone username.github.io --recurse-submodules ","wordCount":"426","inLanguage":"en","datePublished":"2021-08-19T15:04:55+08:00","dateModified":"2021-08-19T15:04:55+08:00","author":{"@type":"Person","name":"James"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/hugo-github-pages-blog/"},"publisher":{"@type":"Organization","name":"Laoluo's Blog","logo":{"@type":"ImageObject","url":"http://localhost:1313/icons/linux.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Laoluo's Blog (Alt + H)">Laoluo's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=http://localhost:1313/about/ title=å…³äº><span>å…³äº</span></a></li><li><a href=http://localhost:1313/archives title=å½’æ¡£><span>å½’æ¡£</span></a></li><li><a href=http://localhost:1313/categories/ title=åˆ†ç±»><span>åˆ†ç±»</span></a></li><li><a href=http://localhost:1313/tags/ title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=http://localhost:1313/manual/ title=é€ŸæŸ¥><span>é€ŸæŸ¥</span></a></li><li><a href=http://localhost:1313/links/ title=é“¾æ¥><span>é“¾æ¥</span></a></li><li><a href=http://localhost:1313/search/ title=ğŸ”><span>ğŸ”</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>åˆ©ç”¨ Hugo å’Œ Github Pages åˆ›å»ºé™æ€åšå®¢å¹¶å®ç°è‡ªåŠ¨éƒ¨ç½²</h1><div class=post-meta><span title='2021-08-19 15:04:55 +0800 CST'>August 19, 2021</span>&nbsp;Â·&nbsp;James</div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e8%83%8c%e6%99%af%e4%bb%8b%e7%bb%8d aria-label=èƒŒæ™¯ä»‹ç»>èƒŒæ™¯ä»‹ç»</a><ul><li><a href=#hugo aria-label=Hugo>Hugo</a></li><li><a href=#github-pages aria-label="Github Pages">Github Pages</a></li><li><a href=#github-actions aria-label="Github Actions">Github Actions</a></li></ul></li><li><a href=#%e5%8d%9a%e5%ae%a2%e5%bb%ba%e7%ab%8b aria-label=åšå®¢å»ºç«‹>åšå®¢å»ºç«‹</a></li><li><a href=#%e9%80%89%e6%8b%a9%e4%b8%bb%e9%a2%98 aria-label=é€‰æ‹©ä¸»é¢˜>é€‰æ‹©ä¸»é¢˜</a></li><li><a href=#%e5%bb%ba%e7%ab%8b%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93 aria-label=å»ºç«‹è¿œç¨‹ä»“åº“>å»ºç«‹è¿œç¨‹ä»“åº“</a></li><li><a href=#%e4%bd%bf%e7%94%a8%e8%84%9a%e6%9c%ac%e7%ae%80%e5%8c%96%e6%93%8d%e4%bd%9c aria-label=ä½¿ç”¨è„šæœ¬ç®€åŒ–æ“ä½œ>ä½¿ç”¨è„šæœ¬ç®€åŒ–æ“ä½œ</a></li><li><a href=#github-actions-%e8%87%aa%e5%8a%a8%e9%83%a8%e7%bd%b2 aria-label="Github Actions è‡ªåŠ¨éƒ¨ç½²">Github Actions è‡ªåŠ¨éƒ¨ç½²</a></li><li><a href=#%e4%bb%8e%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93%e4%b8%8b%e8%bd%bd aria-label=ä»è¿œç¨‹ä»“åº“ä¸‹è½½>ä»è¿œç¨‹ä»“åº“ä¸‹è½½</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>æœ¬æ–‡ä¸»è¦ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨ Hugo å’Œ Github Pages åˆ›å»ºé™æ€åšå®¢ï¼Œå¹¶åˆ©ç”¨ Github Actions å®ç°åšå®¢çš„è‡ªåŠ¨éƒ¨ç½²ã€‚</p><h2 id=èƒŒæ™¯ä»‹ç»>èƒŒæ™¯ä»‹ç»<a hidden class=anchor aria-hidden=true href=#èƒŒæ™¯ä»‹ç»>#</a></h2><h3 id=hugo>Hugo<a hidden class=anchor aria-hidden=true href=#hugo>#</a></h3><p>Hugo æ˜¯ä¸€ä¸ªç”¨ Go ç¼–å†™çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼ŒHugo ä¸€èˆ¬åªéœ€å‡ ç§’é’Ÿå°±èƒ½ç”Ÿæˆä¸€ä¸ªç½‘ç«™ï¼ˆæ¯é¡µå°‘äº 1 æ¯«ç§’ï¼‰ï¼Œè¢«ç§°ä¸ºâ€œä¸–ç•Œä¸Šæœ€å¿«çš„ç½‘ç«™æ„å»ºæ¡†æ¶â€ã€‚è¿™ä¹Ÿä½¿ Hugo å¤§å—æ¬¢è¿ï¼Œæˆä¸ºæœ€çƒ­é—¨çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ä¹‹ä¸€ï¼Œè¢«å¹¿æ³›é‡‡ç”¨ã€‚</p><p>é™æ€åšå®¢æœ€å¸¸ç”¨çš„ä¸¤ä¸ªæ¡†æ¶å°±æ˜¯ Hugo å’Œ Hexoã€‚ç”±äº Hexo æ˜¯ç”± Node.js ç¼–å†™ï¼Œåœ¨æ–‡ç« æ•°é‡è¾ƒå¤§ä¹‹åå°±éœ€è¦æ¯”è¾ƒé•¿çš„ç¼–è¯‘æ—¶é—´ï¼Œå› æ­¤ç”±äºæ€§èƒ½è€ƒè™‘æˆ‘ä»¬é‡‡ç”¨ Hugo ä½œä¸ºæˆ‘ä»¬åšå®¢çš„æ¡†æ¶ã€‚</p><h3 id=github-pages>Github Pages<a hidden class=anchor aria-hidden=true href=#github-pages>#</a></h3><p>GitHub Pages æ˜¯ GitHub æä¾›çš„ä¸€ä¸ªå…è´¹ç½‘é¡µå¯„å­˜æœåŠ¡ï¼Œå¯ä»¥ç”¨äºå­˜æ”¾é™æ€ç½‘é¡µï¼ŒåŒ…æ‹¬åšå®¢ã€é¡¹ç›®æ–‡æ¡£ç”šè‡³æ•´æœ¬ä¹¦ã€‚åˆ©ç”¨ Github Pages éƒ¨ç½²é™æ€åšå®¢ï¼Œå°±å¯ä»¥å…å»éƒ¨ç½²æœåŠ¡å™¨çš„è´¹ç”¨ï¼Œå‡å°‘æˆæœ¬ã€‚ä¸è¿‡ï¼Œé™æ€åšå®¢ç”±äºæ²¡æœ‰æ•°æ®åº“ï¼Œå› æ­¤åœ¨åå°ç®¡ç†æ–¹é¢å°±ä¸å¦‚åŠ¨æ€åšå®¢ï¼ˆå¦‚ WordPress ç­‰ï¼‰æ–¹ä¾¿ã€‚</p><h3 id=github-actions>Github Actions<a hidden class=anchor aria-hidden=true href=#github-actions>#</a></h3><p>Github Actions æä¾›äº†å…è´¹çš„ CI/CD åŠŸèƒ½ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å®Œæˆè½¯ä»¶å¼€å‘å‘¨æœŸå†…çš„ä»»åŠ¡ã€‚ GitHub Actions æ˜¯äº‹ä»¶é©±åŠ¨çš„ï¼Œæ„å‘³ç€å¯ä»¥åœ¨æŒ‡å®šäº‹ä»¶å‘ç”Ÿåè¿è¡Œä¸€ç³»åˆ—å‘½ä»¤ã€‚ ä¾‹å¦‚ï¼Œæ¯æ¬¡æœ‰äººä¸ºä»“åº“åˆ›å»ºæ‹‰å–è¯·æ±‚æ—¶ï¼Œéƒ½å¯ä»¥è‡ªåŠ¨è¿è¡Œå‘½ä»¤æ¥æ‰§è¡Œè½¯ä»¶æµ‹è¯•è„šæœ¬ã€‚</p><p>åˆ©ç”¨ Github Actionsï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°åšå®¢çš„è‡ªåŠ¨éƒ¨ç½²ã€‚æ¯å½“æˆ‘ä»¬å¯¹ä»“åº“å®Œæˆ push æ“ä½œæ—¶ï¼ŒGithub å°±èƒ½è‡ªåŠ¨è¿›è¡Œç¼–è¯‘å¹¶å®Œæˆé™æ€æ–‡ä»¶çš„éƒ¨ç½²ã€‚</p><h2 id=åšå®¢å»ºç«‹>åšå®¢å»ºç«‹<a hidden class=anchor aria-hidden=true href=#åšå®¢å»ºç«‹>#</a></h2><p>æˆ‘ä»¬é¦–å…ˆä¸‹è½½ <a href=https://github.com/gohugoio/hugo/releases>Hugo</a>ï¼Œæ¨èä¸‹è½½ extended ç‰ˆæœ¬ã€‚è§£å‹å¹¶è®¾ç½®å¥½ç¯å¢ƒå˜é‡åï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥</p><pre tabindex=0><code>hugo new site Blog
</code></pre><p>è¿™æ ·å°±å»ºç«‹äº†ä¸€ä¸ªæ–°çš„åšå®¢ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ç¯‡æ–°çš„æ–‡ç« ã€‚</p><pre tabindex=0><code>hugo new posts/first-post/index.md
</code></pre><p>è¿™æ ·ï¼Œå°±ä¼šåœ¨ <code>Blog/content/posts/first-post/</code>ä¸‹ç”Ÿæˆä¸€ä¸ªåä¸º <code>index.md</code>çš„æ–‡ä»¶ã€‚</p><p>ç¼–å†™å®Œåšå®¢ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡</p><pre tabindex=0><code>Hugo server -D
</code></pre><p>æ¥å¯¹ç½‘ç«™è¿›è¡Œå®æ—¶é¢„è§ˆï¼Œä»¥åŠé€šè¿‡</p><pre tabindex=0><code>Hugo
</code></pre><p>æ¥å°†ç½‘ç«™è¿›è¡Œç¼–è¯‘ã€‚</p><h2 id=é€‰æ‹©ä¸»é¢˜>é€‰æ‹©ä¸»é¢˜<a hidden class=anchor aria-hidden=true href=#é€‰æ‹©ä¸»é¢˜>#</a></h2><p>æˆ‘æ¨èçš„ä¸»é¢˜æ˜¯ <a href=https://github.com/adityatelange/hugo-PaperMod>PaperMod</a> ä¸»é¢˜ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ­¤å‘½ä»¤æ¥å®‰è£…è¯¥ä¸»é¢˜</p><pre tabindex=0><code>git submodule add https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod --depth=1
</code></pre><p>è€Œå½“æˆ‘ä»¬é‡æ–° clone æˆ‘ä»¬çš„ä»“åº“æ—¶ï¼Œå¦‚æœä¸»é¢˜æ²¡æœ‰è‡ªåŠ¨ä¸‹è½½ï¼Œéœ€è¦è¿è¡Œä»¥ä¸‹å‘½ä»¤</p><pre tabindex=0><code>git submodule update --init --recursive # needed when you reclone your repo (submodules may not get cloned automatically)
</code></pre><p>å…·ä½“çš„é…ç½®å¯ä»¥å‚ç…§ä»“åº“çš„ Wikiï¼Œè¿™é‡Œç®€å•ä»‹ç»ä»¥ä¸‹å¦‚ä½•æ·»åŠ å½’æ¡£å’Œæœç´¢é¡µé¢ã€‚</p><p>åœ¨ <code>Blog/contend/</code> ä¸‹åˆ›å»º <code>archives.md</code> å’Œ <code>search.md</code>ï¼Œå†…å®¹åˆ†åˆ«ä¸ºï¼š</p><p>archives.md</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>---
</span></span><span style=display:flex><span>title: &#34;Archive&#34;
</span></span><span style=display:flex><span>layout: &#34;archives&#34;
</span></span><span style=display:flex><span>url: &#34;/archives&#34;
</span></span><span style=display:flex><span>summary: &#34;archives&#34;
</span></span><span style=display:flex><span>---
</span></span></code></pre></div><p>search.md</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>---
</span></span><span style=display:flex><span>title: &#34;Search&#34;
</span></span><span style=display:flex><span>layout: &#34;search&#34;
</span></span><span style=display:flex><span>summary: &#34;search&#34;
</span></span><span style=display:flex><span>---
</span></span></code></pre></div><p>ç„¶åä¿®æ”¹ <code>config.yml</code> é…ç½®æ–‡ä»¶ï¼Œå°† <code>menu</code> éƒ¨åˆ†æ”¹ä¸º</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>menu</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>main</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Archives</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>url</span>: <span style=color:#ae81ff>archives</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>weight</span>: <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Categories</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>url</span>: <span style=color:#ae81ff>categories/</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>weight</span>: <span style=color:#ae81ff>20</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Tags</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>url</span>: <span style=color:#ae81ff>tags/</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>weight</span>: <span style=color:#ae81ff>30</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Search</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>url</span>: <span style=color:#ae81ff>search/</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>weight</span>: <span style=color:#ae81ff>40</span>
</span></span></code></pre></div><p>è¿™æ ·åšå®¢å°±æœ‰äº†å½’æ¡£å’Œæœç´¢é¡µé¢ã€‚</p><h2 id=å»ºç«‹è¿œç¨‹ä»“åº“>å»ºç«‹è¿œç¨‹ä»“åº“<a hidden class=anchor aria-hidden=true href=#å»ºç«‹è¿œç¨‹ä»“åº“>#</a></h2><p>æˆ‘ä»¬åœ¨ Github ä¸Šå»ºç«‹åä¸º <code>username.github.io</code> çš„ä»“åº“ï¼Œç„¶åå°†æœ¬åœ°çš„åšå®¢ä¸è¿œç¨‹ä»“åº“çš„ <code>source</code> åˆ†æ”¯å¯¹åº”ï¼Œæ·»åŠ  <code>.gitignore</code> æ–‡ä»¶åå°±å¯ä»¥å°†æ–‡ä»¶éƒ½æ¨é€åˆ°è¯¥åˆ†æ”¯äº†ã€‚è€Œ <code>main</code> åˆ†æ”¯ä½œä¸ºæˆ‘ä»¬ Pages å±•ç¤ºçš„åˆ†æ”¯ï¼Œæš‚æ—¶ç•™ç©ºï¼Œå®ƒå°†åœ¨åé¢ç”± Github Actions è‡ªåŠ¨ç”Ÿæˆå¹¶éƒ¨ç½²ã€‚</p><h2 id=ä½¿ç”¨è„šæœ¬ç®€åŒ–æ“ä½œ>ä½¿ç”¨è„šæœ¬ç®€åŒ–æ“ä½œ<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨è„šæœ¬ç®€åŒ–æ“ä½œ>#</a></h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ è„šæœ¬æ¥ç®€åŒ–åšå®¢çš„æ“ä½œã€‚</p><p>é¦–å…ˆæ˜¯éƒ¨ç½²çš„è„šæœ¬ <code>deploy.sh</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e># æ·»åŠ æ‰€æœ‰ä¿®æ”¹</span>
</span></span><span style=display:flex><span>git add .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># è®¾ç½®æäº¤è¯´æ˜ï¼Œæ ¼å¼ä¸º Site updated: 2006-01-02 15:04:05</span>
</span></span><span style=display:flex><span>time<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>date <span style=color:#e6db74>&#34;+%Y-%m-%d %H:%M:%S&#34;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>commit<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Site updated:&#34;</span>$time
</span></span><span style=display:flex><span>echo $commit
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æäº¤</span>
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;</span>$commit<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æ¨é€åˆ°sourceåˆ†æ”¯ä¸Š</span>
</span></span><span style=display:flex><span>git push origin source
</span></span></code></pre></div><p>ç„¶åä¿®æ”¹ <code>.zshrc</code> æ–‡ä»¶ï¼Œæ·»åŠ å‡ ä¸ªç®€å†™</p><pre tabindex=0><code># Hugo
export BLOG_HOME=&#34;$HOME/Blog&#34;
alias hs=&#34;cd $BLOG_HOME &amp;&amp; hugo server -D&#34;
alias hd=&#34;cd $BLOG_HOME &amp;&amp; sh deploy.sh&#34;
alias hb=&#34;cd $BLOG_HOME &amp;&amp; rm -rf public/* &amp;&amp; hugo&#34;
hn() {
    cd $BLOG_HOME &amp;&amp; hugo new posts/$1/index.md
}
</code></pre><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ <code>hs</code> å®ç°é¢„è§ˆï¼Œé€šè¿‡ <code>hb</code> å®ç°åšå®¢ç¼–è¯‘ï¼Œé€šè¿‡ <code>hd</code> å®ç°åšå®¢éƒ¨ç½²ï¼Œé€šè¿‡ <code>hn new-post</code> åˆ›å»ºæ–°çš„åšæ–‡äº†ã€‚</p><h2 id=github-actions-è‡ªåŠ¨éƒ¨ç½²>Github Actions è‡ªåŠ¨éƒ¨ç½²<a hidden class=anchor aria-hidden=true href=#github-actions-è‡ªåŠ¨éƒ¨ç½²>#</a></h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦å…ˆåœ¨ Github ä¸Šç”³è¯·ä¸€ä¸ª personal access tokenã€‚é€‰æ‹© Token çš„ä½œç”¨åŸŸæ—¶å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å…¨é€‰ã€‚å®Œæˆå Github ä¼šæä¾›ä¸€ä¸ª Tokenï¼Œæ³¨æ„è¯¥ Token åªä¼šå‡ºç°ä¸€æ¬¡ï¼Œæˆ‘ä»¬éœ€è¦ä¿å­˜å¥½ï¼Œå¦‚æœå¿˜è®°å°±åªèƒ½é‡æ–°ç”³è¯·äº†ã€‚</p><center><img src=assets/PAT.png width=100%></center><p>æ’ä¸€å¥é¢˜å¤–è¯ï¼Œå®é™…ä¸Šï¼Œç”±äº Github ç°åœ¨å·²ç»ä¸å†æ”¯æŒå¯†ç éªŒè¯ï¼Œå½“æˆ‘ä»¬è¿›è¡Œ push æ“ä½œæ—¶åŒæ ·ä¹Ÿéœ€è¦ Tokenã€‚ä¸ºäº†ç®€ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»“åº“çš„è¿œç¨‹åœ°å€æ¢æˆ <code>https://&lt;token>@github.com/user/repo.git</code>ï¼Œè¿™æ ·åœ¨ push æ—¶å°±ä¸éœ€è¦è¦æ±‚éªŒè¯äº†ã€‚</p><p>ç„¶ååœ¨è¿œç¨‹ä»“åº“çš„ <code>Settings/Secrets</code> ä¸­æ·»åŠ ä½ çš„ Personal access tokenã€‚</p><center><img src=assets/secret.png width=100%></center><p>æœ€ååœ¨æœ¬åœ°ä»“åº“ä¸­æ–°å»º <code>Blog/.github/workflows/gh-pages.yml</code> æ–‡ä»¶</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>github pages</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>on</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>push</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>branches</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>source</span> <span style=color:#75715e># Set a branch to deploy</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>deploy</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-20.04</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v2</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>submodules</span>: <span style=color:#ae81ff>recursive</span> <span style=color:#75715e># Fetch Hugo themes (true OR recursive)</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>fetch-depth</span>: <span style=color:#ae81ff>0</span> <span style=color:#75715e># Fetch all history for .GitInfo and .Lastmod</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Setup Hugo</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-hugo@v2</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>hugo-version</span>: <span style=color:#e6db74>&#34;latest&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>extended</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: <span style=color:#ae81ff>hugo --minify</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-gh-pages@v3</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>github_token</span>: <span style=color:#ae81ff>${{ secrets.ACTIONS_TOKEN }}</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>publish_dir</span>: <span style=color:#ae81ff>./public</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>publish_branch</span>: <span style=color:#ae81ff>main</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>cname</span>: <span style=color:#ae81ff>your_domain</span>
</span></span></code></pre></div><p>æ³¨æ„éœ€è¦å°† github_token çš„åç§°æ”¹ä¸ºä½ ä»“åº“ä¸­ token çš„åå­—ï¼Œå¹¶å°† cname æ¢æˆä½ è‡ªå·±çš„åŸŸåï¼Œå¦‚ä¸éœ€è¦æ›´æ¢ä¹Ÿå¯ä»¥åˆ é™¤ã€‚æ›´æ¢åä¹Ÿéœ€è¦åˆ°åŸŸåçš„ DNS ç®¡ç†å¤„æ·»åŠ  CNAME åˆ° username.github.ioã€‚</p><p>å¹¶ä¸”ï¼ŒGithub è¿˜ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬ç”³è¯· SSL è¯ä¹¦ï¼Œæˆ‘ä»¬å¯ä»¥åˆ°ä»“åº“çš„ Github Pages è®¾ç½®é¡µé¢æ‰“å¼€ HTTPS è®¿é—®ã€‚</p><p>è¿™æ ·ï¼Œæ¯å½“æˆ‘ä»¬å°†æºç æ¨é€åˆ° <code>source</code> åˆ†æ”¯åï¼ŒGithub å°±ä¼šè‡ªåŠ¨å°±ç¼–è¯‘åçš„é™æ€æ–‡ä»¶éƒ¨ç½²åˆ° <code>main</code> åˆ†æ”¯å¹¶å‘å¸ƒåˆ° Github Pages ä¸­äº†ã€‚</p><h2 id=ä»è¿œç¨‹ä»“åº“ä¸‹è½½>ä»è¿œç¨‹ä»“åº“ä¸‹è½½<a hidden class=anchor aria-hidden=true href=#ä»è¿œç¨‹ä»“åº“ä¸‹è½½>#</a></h2><p>å½“æˆ‘ä»¬æ›´æ¢äº†ä¸€å°æ–°çš„ç”µè„‘æˆ–æ˜¯æœ¬åœ°ä»“åº“è¢«æŸåæ—¶ï¼Œå¯ä»¥ä»è¿œç¨‹ä»“åº“ä¸­ä¸‹è½½åšå®¢ã€‚ä¸ºäº†ä¸‹è½½åšå®¢çš„ä¸»é¢˜ï¼Œéœ€è¦æ·»åŠ  <code>--recurse-submodules</code> å‚æ•°ã€‚</p><pre tabindex=0><code>git clone username.github.io --recurse-submodules
</code></pre></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/hugo/>Hugo</a></li><li><a href=http://localhost:1313/tags/github-pages/>Github Pages</a></li><li><a href=http://localhost:1313/tags/github-actions/>Github Actions</a></li><li><a href=http://localhost:1313/tags/ci/cd/>CI/CD</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/hugo-blog-picture/><span class=title>Â« Prev</span><br><span>Hugo åšå®¢æ’å…¥å›¾ç‰‡çš„æ–¹æ³•</span></a></nav></footer></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><footer class=footer><span>&copy; 2024 <a href=http://localhost:1313/>Laoluo's Blog</a></span>
<span>| Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><br><a href=https://beian.miit.gov.cn/ target=_blank>é»”ICPå¤‡2022001597å·</a></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>